# Deploy to GitLab Pages using mkdocs
---
pages:
  stage: build
  image:
    name: docker.io/squidfunk/mkdocs-material:9
    entrypoint: [""]
  rules:
    - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH
      changes:
        - .gitlab-ci.yml
        - .ci/build-docs.yml
        - docs/**/*
  script:
    - cd docs
    - mkdocs build --site-dir ../public
  artifacts:
    paths:
      - public
